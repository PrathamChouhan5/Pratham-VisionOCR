In Azure portal :-

	Create RG

	Create Computer Vision in RG 
	
	Copy Keys and Endpoints

--------------------------------------------------------------------------------------------------------------------------------

Create Folder Pratham-Vision -> 


	Create file - > app.py :-

from flask import Flask, render_template, request
import requests, os

from dotenv import load_dotenv
import traceback

load_dotenv()

app = Flask(__name__)

VISION_ENDPOINT = os.getenv("VISION_ENDPOINT")
VISION_KEY = os.getenv("VISION_KEY")

@app.route('/')
def index():
    return render_template('index.html')

@app.route('/analyze', methods=['POST'])
def analyze():
    image = request.files['file']
    image_data = image.read()
    headers = {'Ocp-Apim-Subscription-Key': VISION_KEY, 'Content-Type': 'application/octet-stream'}
    ocr_url = f"{VISION_ENDPOINT}/vision/v3.2/ocr"

    response = requests.post(ocr_url, headers=headers, data=image_data)
    result = response.json()

    text_output = []
    for region in result.get('regions', []):
        for line in region['lines']:
            line_text = ' '.join([word['text'] for word in line['words']])
            text_output.append(line_text)
    return render_template('result.html', text="\n".join(text_output))

if __name__ == '__main__':
    port = int(os.environ.get("PORT",5000))
    app.run(host='0.0.0.0', port=5000)


----------------------------------------Commands Run in Any Terminal ----------------------------------------------------------------------------------

	pip uninstall openai
	pip install openai
	python.exe -m pip install --upgrade pip

VS code Terminal -> pip install -r requirements.text
    
------------------------------------------------------------------------------------------------------------------------------

	Folder templates -> File index.html :-

    
<!DOCTYPE html>
<html>
<head><title>Vision OCR Demo</title></head>
<body>
  <h2>Upload Image for Text Extraction</h2>
  <form action="/analyze" method="post" enctype="multipart/form-data">
    <input type="file" name="file" accept="image/*" required>
    <button type="submit">Analyze</button>
  </form>
</body>
</html>

------------------------------------------------------------------------------------------------------------------------------

	templates -> result.html :-

<!DOCTYPE html>
<html>
<head><title>OCR Result</title></head>
<body>
  <h2>Extracted Text:</h2>
  <pre>{{ text }}</pre>
  <a href="/">Upload Another</a>
</body>
</html>

------------------------------------------------------------------------------------------------------------------------------

	In Main Folder Pratham-Vision -> File .env :- 

VISION_ENDPOINT=<your-endpoint>
VISION_KEY=<your-key>
PORT = 5000

----------------------------------------------------------------------------------------------------------------------------

	test locally

pip install flask requests python-dotenv (optional)
python app.py


-----------------------------------------------------------------------------------------------------------------------------

For host on Azure Webapp portal :- 

	Create Web-App :-

Runtime stack = python 3.10
Pricing B1


	Go to Webapp :-

configuration -> leave preview -> Turn ON  SCM & FTP  -> Startup Command -> gunicorn --bind=0.0.0.0:5000 app:app
Deployment center -> Local Git -> SAVE -> Git clone
Environment variables -> Add -> Add your .env file credentials


	Go to VS code :-

git init
git add .
git commit -m "Initial"
git remote add azure URL_PASTE
git push azure master -> Enter credentials which you will get from Webapp portal(Local Git/FTPS Credentials-Username, Password)

Check - Browse Webapp

------------------------------------------------------------------------------------------------------------------------------



